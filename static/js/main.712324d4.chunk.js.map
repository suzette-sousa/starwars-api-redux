{"version":3,"sources":["components/Results/Results.module.scss","components/Details/Details.module.scss","store/actions/actionTypes.js","store/reducers/queryDataReducer.js","store/reducers/index.js","store/store.js","components/Details/Details.js","components/Results/Results.js","components/Search/Search.js","store/actions/queryAction.js","App.js","reportWebVitals.js","index.js","components/Search/Search.module.scss"],"names":["module","exports","GET_QUERYDATA","initialState","loading","queryDataReducer","state","action","type","queryData","payload","combineReducers","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","Details","props","results","location","history","useHistory","className","Styles","ctr","onClick","push","close","hidden","content","climate","title","info","diameter","population","gender","hair_color","Results","list","map","i","to","pathname","name","listLink","id","connect","newData","useState","searchValue","setSearchValue","chooseSearch","setChooseSearch","isChecked","setIsChecked","whichPage","setWhichPage","setHidden","dispatch","useDispatch","useEffect","typeSearch","wordSearch","a","url","axios","get","params","search","page","then","response","data","sort","b","count","next","previous","catch","error","console","log","getQueryData","setNewData","chooseSearchChange","e","target","checked","titleh1","titleh2","form","radioCtr","radioInput","onChange","htmlFor","radioLabel","value","placeholder","autoComplete","inputSearch","trim","inputPrevNext","inputPrev","datasSet","Set","datasSetArr","inputNext","App","basename","process","exact","path","component","Search","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.712324d4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Results_list__21fEm\",\"listLink\":\"Results_listLink__3NYRO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ctr\":\"Details_ctr__1NYKt\",\"content\":\"Details_content__6yc8J\",\"info\":\"Details_info__frNqM\",\"title\":\"Details_title__2acHd\",\"close\":\"Details_close__2kZYv\"};","export const GET_QUERYDATA = 'GET_QUERYDATA';\nexport const QUERYDATA_ERROR = 'QUERYDATA_ERROR';\n","import { GET_QUERYDATA } from '../actions/actionTypes';\n\nconst initialState = {\n  loading: true\n}\n\nconst queryDataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_QUERYDATA:\n      return {\n        ...state,\n        queryData: action.payload,\n        loading: false\n      }\n    default:\n      return state;\n  }\n}\n\nexport default queryDataReducer;\n","import { combineReducers } from 'redux';\nimport queryDataReducer from './queryDataReducer';\n\nexport default combineReducers({\n  queryData: queryDataReducer\n});","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport rootReducer from './reducers';\n\nconst initalState = {};\nconst middleware = [thunk];\nconst store = createStore(rootReducer, initalState, composeWithDevTools(applyMiddleware(...middleware)));\n\nexport default store;\n","import { useHistory } from 'react-router-dom';\nimport Styles from './Details.module.scss';\n\nconst Details = (props) => {\n\n  const results = props.location.state.results;\n\n  const history = useHistory();\n  const handleClick = () => history.push(\"/\");\n\n  return (\n    <>\n      <div className={Styles.ctr} onClick={handleClick}>\n        <span className={Styles.close}>X<span hidden>Close</span></span>\n        <div className={Styles.content}>\n          {results.climate && \n            <>\n              <h3 className={Styles.title}>Climat :</h3>\n              <p className={Styles.info}>{results.climate}</p>\n            </>\n          }\n          {results.diameter && \n            <>\n              <h3 className={Styles.title}>Diamètre :</h3>\n              <p className={Styles.info}>{results.diameter}</p>\n            </>\n          }\n          {results.population && \n            <>\n              <h3 className={Styles.title}>Population : </h3>\n              <p className={Styles.info}>{results.population}</p>\n            </>\n          }\n          {results.gender && \n            <>\n              <h3 className={Styles.title}>Genre :</h3>\n              <p className={Styles.info}>{results.gender}</p>\n            </>\n          }\n          {results.hair_color && \n            <>\n              <h3 className={Styles.title}>Couleur de cheveux :</h3>\n              <p className={Styles.info}>{results.hair_color}</p>\n            </>\n          }\n        </div>\n      </div>\n    </>\n  );\n\n}\n\nexport default Details;\n","import { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport Details from \"../Details/Details\";\nimport Styles from \"./Results.module.scss\";\n\nconst Results = (props) => {\n\n  const {queryData} = props.queryData;\n  const {loading} = props.queryData;\n  const results = {...queryData}.results;\n  \n  return (\n    <>\n      {loading && <p>Chargement...</p>}\n      <section className={Styles.list}>\n        {!loading && results.map((results, i) =>\n          <div key={i}>\n              <Link to={{pathname: `/test/${results.name}`, state: {results}}} key={results.id} className={Styles.listLink}>\n              {results.name}\n              </Link>\n          </div>\n        )}\n      </section>\n    </>\n  );\n\n}\n\nexport default Results;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { getQueryData } from '../../store/actions/queryAction';\nimport Results from '../Results/Results';\nimport Styles from \"./Search.module.scss\";\n\nconst Search = (props) => {\n  const [searchValue, setSearchValue] = useState('');\n  const [chooseSearch, setChooseSearch] = useState('planets');\n  const [isChecked, setIsChecked] = useState(true);\n  const [whichPage, setWhichPage] = useState(1);\n  const [hidden, setHidden] = useState(true);\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getQueryData(chooseSearch, searchValue, whichPage));\n  }, [dispatch, chooseSearch, searchValue, whichPage])\n  \n  const {queryData} = props.queryData;\n  const {loading} = props.queryData;\n  let results = {...queryData}.results;\n  const count = {...queryData}.count;\n  const next = {...queryData}.next;\n  const previous = {...queryData}.previous;\n\n  const [newData, setNewData] = useState([]);\n  \n  const handleInputChange = (e) => {\n    if(e.target.value.trim !== \"\") setWhichPage(1);\n    setSearchValue(e.target.value);\n    setHidden(false);\n  };\n\n  const chooseSearchChange = (e) => {  // TODO : TO IMPROVE\n    if(e.target.id === \"chooseSearch-planets\") setChooseSearch(\"planets\");\n    if(e.target.id === \"chooseSearch-people\") setChooseSearch(\"people\");\n    setIsChecked(!isChecked);\n    if(e.target.checked) e.target.checked = isChecked;\n  };\n\n  const getPrevPage = () => {\n    setWhichPage(whichPage - 1);\n  }\n\n  const getNextPage = () => {\n    setWhichPage(whichPage + 1);\n    const datasSet = new Set([\n      ...newData,\n      ...results\n    ]);\n    const datasSetArr = [...datasSet];\n    setNewData(datasSetArr)\n  }\n\n  return (\n    <>\n      <section>\n        <h1 className={Styles.titleh1}>Starwars</h1>\n        <h2 className={Styles.titleh2}>Rechercher dans la base</h2>\n        <form id=\"searchForm\" className={Styles.form}>\n          <div className={Styles.radioCtr}>\n            <input\n              id=\"chooseSearch-planets\"\n              type=\"radio\"\n              name=\"chooseSearch\"\n              checked={isChecked}\n              className={Styles.radioInput}\n              onChange={chooseSearchChange}\n            />\n            <label \n              htmlFor=\"chooseSearch-planets\" \n              className={Styles.radioLabel}>\n                Planète\n            </label>\n            <input\n              id=\"chooseSearch-people\"\n              type=\"radio\"\n              name=\"chooseSearch\"\n              className={Styles.radioInput}\n              onChange={chooseSearchChange}\n            />\n            <label\n              htmlFor=\"chooseSearch-people\"\n              className={Styles.radioLabel}>\n              Personnage\n            </label>\n          </div>\n          <input\n            type=\"search\"\n            name=\"searchValue\"\n            value={searchValue}\n            placeholder={`Saisir le nom ${chooseSearch === \"planets\" ? \"d'une planète\" : \"d'un personnage\"}`}\n            autoComplete=\"off\"\n            className={Styles.inputSearch}\n            onChange={handleInputChange}\n          />\n        </form>\n      </section>\n      \n      {!hidden && count + (count <= 1 ? ' résultat' : ' résultats')}\n\n      <Results {...props} newData={newData} />\n\n      <div className={Styles.inputPrevNext}>\n        {previous && <button onClick={getPrevPage} className={Styles.inputPrev}>Page précédente</button>}\n        {next && <button onClick={getNextPage} className={Styles.inputNext}>Page suivante</button>}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({queryData: state.queryData, newData: state.newData});\n\nexport default connect(mapStateToProps)(Search);\n","import { GET_QUERYDATA, QUERYDATA_ERROR } from './actionTypes';\nimport axios from 'axios';\n\nexport const getQueryData = (typeSearch, wordSearch, whichPage) => async dispatch => {\n  let url = \"https://swapi.dev/api/\" + typeSearch;\n  axios.get(url, {params: {search: wordSearch, page: whichPage}})\n  .then(response => {\n    dispatch({\n      type: GET_QUERYDATA,\n      payload: {\n        results: response.data.results.sort((a, b) => a.name > b.name ? 1:-1),\n        count: response.data.count,\n        next: response.data.next,\n        previous: response.data.previous\n      }\n    })\n  })\n  .catch(error => {\n    dispatch({\n      type: QUERYDATA_ERROR,\n      payload: console.log(error)\n    })\n  })\n}\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Search from \"./components/Search/Search\";\nimport Results from \"./components/Results/Results\";\nimport Details from \"./components/Details/Details\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      test2\n      <Router basename={process.env.PUBLIC_URL}>\n        <main className=\"ctn\">\n          <Switch>\n            <Route exact path={\"/\"} component={Search} />\n            <Route path={\"/search\"} component={Search} />\n            <Route path={\"/test/:name\"} component={Details} />\n          </Switch>\n        </main>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport store from './store/store'\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleh1\":\"Search_titleh1__oQ1rd\",\"form\":\"Search_form__1ch7D\",\"radioCtr\":\"Search_radioCtr__1-nK2\",\"radioInput\":\"Search_radioInput__1yDbm\",\"radioLabel\":\"Search_radioLabel__2ILWf\",\"inputSearch\":\"Search_inputSearch__1p-1b\",\"inputPrevNext\":\"Search_inputPrevNext__5V7AE\",\"inputNext\":\"Search_inputNext__2o1E-\",\"inputPrev\":\"Search_inputPrev__23gsZ\"};"],"sourceRoot":""}