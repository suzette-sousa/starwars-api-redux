(this["webpackJsonpstarwars-api-redux"]=this["webpackJsonpstarwars-api-redux"]||[]).push([[0],{28:function(e,t,a){e.exports={list:"Results_list__21fEm",listLink:"Results_listLink__3NYRO"}},48:function(e,t,a){},5:function(e,t,a){e.exports={ctr:"Details_ctr__1NYKt",content:"Details_content__6yc8J",info:"Details_info__frNqM",title:"Details_title__2acHd",close:"Details_close__2kZYv"}},71:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(18),s=a.n(r),i=a(14),o=a(37),l=a(38),u=a(10),h="GET_QUERYDATA",p={loading:!0},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(u.a)(Object(u.a)({},e),{},{queryData:t.payload,loading:!1});default:return e}},j=Object(i.combineReducers)({queryData:d}),b=[o.a],O=Object(i.createStore)(j,{},Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,b))),_=a(17),m=(a(48),a(22)),f=a(12),x=a(25),v=a.n(x),g=a(39),S=a(40),y=a.n(S),D=a(20),N=(a(3),a(5),a(1)),w=a(28),C=a.n(w),k=function(e){var t=e.queryData.queryData,a=e.queryData.loading,c=Object(u.a)({},t).results;return Object(N.jsxs)(N.Fragment,{children:[a&&Object(N.jsx)("p",{children:"Chargement..."}),Object(N.jsx)("section",{className:C.a.list,children:!a&&c.map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)(D.a,{to:{pathname:"/test/".concat(e.name),state:{results:e}},className:C.a.listLink,children:e.name},e.id)},t)}))})]})},P=a(9),q=a.n(P),L=(Object(_.b)((function(e){return{queryData:e.queryData,newData:e.newData}}))((function(e){var t=Object(c.useState)(""),a=Object(f.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)("planets"),i=Object(f.a)(s,2),o=i[0],l=i[1],p=Object(c.useState)(!0),d=Object(f.a)(p,2),j=d[0],b=d[1],O=Object(c.useState)(1),x=Object(f.a)(O,2),S=x[0],D=x[1],w=Object(c.useState)(!0),C=Object(f.a)(w,2),P=C[0],L=C[1],R=Object(_.c)();Object(c.useEffect)((function(){R(function(e,t,a){return function(){var c=Object(g.a)(v.a.mark((function c(n){var r;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r="https://swapi.dev/api/"+e,y.a.get(r,{params:{search:t,page:a}}).then((function(e){n({type:h,payload:{results:e.data.results.sort((function(e,t){return e.name>t.name?1:-1})),count:e.data.count,next:e.data.next,previous:e.data.previous}})})).catch((function(e){n({type:"QUERYDATA_ERROR",payload:console.log(e)})}));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(o,n,S))}),[R,o,n,S]);var E=e.queryData.queryData,F=(e.queryData.loading,Object(u.a)({},E).results),I=Object(u.a)({},E).count,A=Object(u.a)({},E).next,T=Object(u.a)({},E).previous,Y=Object(c.useState)([]),J=Object(f.a)(Y,2),M=J[0],Q=J[1],B=function(e){"chooseSearch-planets"===e.target.id&&l("planets"),"chooseSearch-people"===e.target.id&&l("people"),b(!j),e.target.checked&&(e.target.checked=j)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("section",{children:[Object(N.jsx)("h1",{className:q.a.titleh1,children:"Starwars"}),Object(N.jsx)("h2",{className:q.a.titleh2,children:"Rechercher dans la base"}),Object(N.jsxs)("form",{id:"searchForm",className:q.a.form,children:[Object(N.jsxs)("div",{className:q.a.radioCtr,children:[Object(N.jsx)("input",{id:"chooseSearch-planets",type:"radio",name:"chooseSearch",checked:j,className:q.a.radioInput,onChange:B}),Object(N.jsx)("label",{htmlFor:"chooseSearch-planets",className:q.a.radioLabel,children:"Plan\xe8te"}),Object(N.jsx)("input",{id:"chooseSearch-people",type:"radio",name:"chooseSearch",className:q.a.radioInput,onChange:B}),Object(N.jsx)("label",{htmlFor:"chooseSearch-people",className:q.a.radioLabel,children:"Personnage"})]}),Object(N.jsx)("input",{type:"search",name:"searchValue",value:n,placeholder:"Saisir le nom ".concat("planets"===o?"d'une plan\xe8te":"d'un personnage"),autoComplete:"off",className:q.a.inputSearch,onChange:function(e){""!==e.target.value.trim&&D(1),r(e.target.value),L(!1)}})]})]}),!P&&I+(I<=1?" r\xe9sultat":" r\xe9sultats"),Object(N.jsx)(k,Object(u.a)(Object(u.a)({},e),{},{newData:M})),Object(N.jsxs)("div",{className:q.a.inputPrevNext,children:[T&&Object(N.jsx)("button",{onClick:function(){D(S-1)},className:q.a.inputPrev,children:"Page pr\xe9c\xe9dente"}),A&&Object(N.jsx)("button",{onClick:function(){D(S+1);var e=new Set([].concat(Object(m.a)(M),Object(m.a)(F))),t=Object(m.a)(e);Q(t)},className:q.a.inputNext,children:"Page suivante"})]})]})})),function(){return Object(N.jsx)("div",{className:"App",children:"test"})}),R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(_.a,{store:O,children:Object(N.jsx)(L,{})})}),document.getElementById("root")),R()},9:function(e,t,a){e.exports={titleh1:"Search_titleh1__oQ1rd",form:"Search_form__1ch7D",radioCtr:"Search_radioCtr__1-nK2",radioInput:"Search_radioInput__1yDbm",radioLabel:"Search_radioLabel__2ILWf",inputSearch:"Search_inputSearch__1p-1b",inputPrevNext:"Search_inputPrevNext__5V7AE",inputNext:"Search_inputNext__2o1E-",inputPrev:"Search_inputPrev__23gsZ"}}},[[71,1,2]]]);
//# sourceMappingURL=main.09f1908c.chunk.js.map